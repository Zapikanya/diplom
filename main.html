<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="main.css">
  
<body class="main-body">
  <div class = 'main-menu'>
  <div class="menu-header"><img class="menu-logo" src="./LearnPDD.png" alt=""><p>Учи ПДД</p></div>
  <div style="width: 300px; height: 300px; float: left; position: relative;margin: 0 auto;">
    <div
      style="width: 100%; height: 40px; position: absolute; top: 50%; left: 0; margin-top: -20px; line-height:19px; text-align: center; z-index: 999999999999999">
      <p style='margin-bottom: 20px;font-size: 34px; width: 100%; white-space: nowrap; letter-spacing: 5px; font-weight: bold; font-family:Roboto-Regular;' id="progress">0%</p>
      <p class="menu-info">Знания билетов ABM</p>
    </div>
    <canvas id="chart" width="300" height="300" />
  </div>
  <!-- <div class="menu-progress">
    <p style='margin-bottom: 20px;font-size: 34px; width: 100%; white-space: nowrap; letter-spacing: 5px; font-weight: bold;' id="progress">0%</p>
    <p class="menu-info">Знания билетов ABM</p>
  </div> -->
  <div class = 'main-buttons'>
    <a href="theory.html" class="button">Теория</a><br>
    <a href="bilets.html" class="button">Билеты</a><br>
    <a href="ekzamen.html" class="button">Экзамен</a>
  </div>
  </div>
  <script>
    const stats = require('./other.json') 
    const stat = ((stats.correct / 800) * 100).toFixed(2)
    const progress = document.getElementById('progress')
    progress.innerText = stat + '%'

    const Chart = require('chart.js/auto')
    const data = {
      labels: [
          'Правильно',
          'Всего'
        ],
      datasets: [{
        data: [stats.correct, 800],
        spacing: 5,
        cutout: '90%',
        backgroundColor: [
          'rgb(255, 99, 132)',
          'white',
        ],
        hoverOffset: 1
      }],
    };

    const ctx = document.getElementById('chart');
    const myChart = new Chart(ctx, {
      type: 'doughnut',
      data: data,
      options: {
        plugins: {
            legend: {
                display: false
            },
        }
    }
    });

  </script>
</body>
</html>
